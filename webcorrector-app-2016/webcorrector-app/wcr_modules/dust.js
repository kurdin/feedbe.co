//  Dustjs-linkedin package v1.1.1
function getGlobal(){return function(){return this.dust}.call(null)}var dust={};(function(dust){function Context(e,t,n){this.stack=e,this.global=t,this.blocks=n}function Stack(e,t,n,r){this.tail=t,this.isObject=!dust.isArray(e)&&e&&typeof e=="object",this.head=e,this.index=n,this.of=r}function Stub(e){this.head=new Chunk(this),this.callback=e,this.out=""}function Stream(){this.head=new Chunk(this)}function Chunk(e,t,n){this.root=e,this.next=t,this.data=[],this.flushable=!1,this.taps=n}function Tap(e,t){this.head=e,this.tail=t}dust.helpers={},dust.cache={},dust.register=function(e,t){if(!e)return;dust.cache[e]=t},dust.render=function(e,t,n){var r=(new Stub(n)).head;dust.load(e,r,Context.wrap(t,e)).end()},dust.stream=function(e,t){var n=new Stream;return dust.nextTick(function(){dust.load(e,n.head,Context.wrap(t,e)).end()}),n},dust.renderSource=function(e,t,n){return dust.compileFn(e)(t,n)},dust.compileFn=function(e,t){var n=dust.loadSource(dust.compile(e,t));return function(e,r){var i=r?new Stub(r):new Stream;return dust.nextTick(function(){n(i.head,Context.wrap(e,t)).end()}),i}},dust.load=function(e,t,n){var r=dust.cache[e];return r?r(t,n):dust.onLoad?t.map(function(t){dust.onLoad(e,function(r,i){if(r)return t.setError(r);dust.cache[e]||dust.loadSource(dust.compile(i,e)),dust.cache[e](t,n).end()})}):t.setError(new Error("Template Not Found: "+e))},dust.loadSource=function(source,path){return eval(source)},Array.isArray?dust.isArray=Array.isArray:dust.isArray=function(e){return Object.prototype.toString.call(e)=="[object Array]"},dust.nextTick=function(){return typeof process!="undefined"?process.nextTick:function(e){setTimeout(e,0)}}(),dust.isEmpty=function(e){return dust.isArray(e)&&!e.length?!0:e===0?!1:!e},dust.filter=function(e,t,n){if(n)for(var r=0,i=n.length;r<i;r++){var s=n[r];s==="s"?t=null:typeof dust.filters[s]=="function"&&(e=dust.filters[s](e))}return t&&(e=dust.filters[t](e)),e},dust.filters={h:function(e){return dust.escapeHtml(e)},j:function(e){return dust.escapeJs(e)},u:encodeURI,uc:encodeURIComponent,js:function(e){return JSON?JSON.stringify(e):e},jp:function(e){return JSON?JSON.parse(e):e}},dust.makeBase=function(e){return new Context(new Stack,e)},Context.wrap=function(e,t){if(e instanceof Context)return e;var n={};return n.__templates__=[],n.__templates__.push(t),new Context(new Stack(e),n)},Context.prototype.get=function(e){var t=this.stack,n;while(t){if(t.isObject){n=t.head[e];if(n!==undefined)return n}t=t.tail}return this.global?this.global[e]:undefined},Context.prototype.getPath=function(e,t){var n=this.stack,r,i=t.length,s=e?undefined:this.stack.tail;if(e&&i===0)return n.head;n=n.head;var o=0;while(n&&o<i){r=n,n=n[t[o]],o++;while(!n&&!e){if(o>1)return undefined;s?(n=s.head,s=s.tail,o=0):e||(n=this.global,e=!0,o=0)}}return typeof n=="function"?function(){return n.apply(r,arguments)}:n},Context.prototype.push=function(e,t,n){return new Context(new Stack(e,this.stack,t,n),this.global,this.blocks)},Context.prototype.rebase=function(e){return new Context(new Stack(e),this.global,this.blocks)},Context.prototype.current=function(){return this.stack.head},Context.prototype.getBlock=function(e,t,n){typeof e=="function"&&(e=e(t,n).data.join(""),t.data=[]);var r=this.blocks;if(!r)return;var i=r.length,s;while(i--){s=r[i][e];if(s)return s}},Context.prototype.shiftBlocks=function(e){var t=this.blocks,n;return e?(t?n=t.concat([e]):n=[e],new Context(this.stack,this.global,n)):this},Stub.prototype.flush=function(){var e=this.head;while(e){if(!e.flushable){if(e.error){this.callback(e.error),this.flush=function(){};return}return}this.out+=e.data.join(""),e=e.next,this.head=e}this.callback(null,this.out)},Stream.prototype.flush=function(){var e=this.head;while(e){if(!e.flushable){if(e.error){this.emit("error",e.error),this.flush=function(){};return}return}this.emit("data",e.data.join("")),e=e.next,this.head=e}this.emit("end")},Stream.prototype.emit=function(e,t){if(!this.events)return!1;var n=this.events[e];if(!n)return!1;if(typeof n=="function")n(t);else{var r=n.slice(0);for(var i=0,s=r.length;i<s;i++)r[i](t)}},Stream.prototype.on=function(e,t){return this.events||(this.events={}),this.events[e]?typeof this.events[e]=="function"?this.events[e]=[this.events[e],t]:this.events[e].push(t):this.events[e]=t,this},Stream.prototype.pipe=function(e){return this.on("data",function(t){e.write(t,"utf8")}).on("end",function(){e.end()}).on("error",function(t){e.error(t)}),this},Chunk.prototype.write=function(e){var t=this.taps;return t&&(e=t.go(e)),this.data.push(e),this},Chunk.prototype.end=function(e){return e&&this.write(e),this.flushable=!0,this.root.flush(),this},Chunk.prototype.map=function(e){var t=new Chunk(this.root,this.next,this.taps),n=new Chunk(this.root,t,this.taps);return this.next=n,this.flushable=!0,e(n),t},Chunk.prototype.tap=function(e){var t=this.taps;return t?this.taps=t.push(e):this.taps=new Tap(e),this},Chunk.prototype.untap=function(){return this.taps=this.taps.tail,this},Chunk.prototype.render=function(e,t){return e(this,t)},Chunk.prototype.reference=function(e,t,n,r){if(typeof e=="function"){e.isFunction=!0,e=e.apply(t.current(),[this,t,null,{auto:n,filters:r}]);if(e instanceof Chunk)return e}return dust.isEmpty(e)?this:this.write(dust.filter(e,n,r))},Chunk.prototype.section=function(e,t,n,r){if(typeof e=="function"){e=e.apply(t.current(),[this,t,n,r]);if(e instanceof Chunk)return e}var i=n.block,s=n["else"];r&&(t=t.push(r));if(dust.isArray(e)){if(i){var o=e.length,u=this;if(o>0){t.stack.head&&(t.stack.head.$len=o);for(var a=0;a<o;a++)t.stack.head&&(t.stack.head.$idx=a),u=i(u,t.push(e[a],a,o));return t.stack.head&&(t.stack.head.$idx=undefined,t.stack.head.$len=undefined),u}if(s)return s(this,t)}}else if(e===!0){if(i)return i(this,t)}else if(e||e===0){if(i)return i(this,t.push(e))}else if(s)return s(this,t);return this},Chunk.prototype.exists=function(e,t,n){var r=n.block,i=n["else"];if(!dust.isEmpty(e)){if(r)return r(this,t)}else if(i)return i(this,t);return this},Chunk.prototype.notexists=function(e,t,n){var r=n.block,i=n["else"];if(dust.isEmpty(e)){if(r)return r(this,t)}else if(i)return i(this,t);return this},Chunk.prototype.block=function(e,t,n){var r=n.block;return e&&(r=e),r?r(this,t):this},Chunk.prototype.partial=function(e,t,n){var r;t.global&&t.global.__templates__&&t.global.__templates__.push(e),n?(r=dust.makeBase(t.global),r.blocks=t.blocks,t.stack&&t.stack.tail&&(r.stack=t.stack.tail),r=r.push(n),r=r.push(t.stack.head)):r=t;var i;return typeof e=="function"?i=this.capture(e,r,function(e,t){dust.load(e,t,r).end()}):i=dust.load(e,this,r),t.global&&t.global.__templates__&&t.global.__templates__.pop(),i},Chunk.prototype.helper=function(e,t,n,r){return dust.helpers[e]?dust.helpers[e](this,t,n,r):this},Chunk.prototype.capture=function(e,t,n){return this.map(function(r){var i=new Stub(function(e,t){e?r.setError(e):n(t,r)});e(i.head,t).end()})},Chunk.prototype.setError=function(e){return this.error=e,this.root.flush(),this},Tap.prototype.push=function(e){return new Tap(e,this)},Tap.prototype.go=function(e){var t=this;while(t)e=t.head(e),t=t.tail;return e};var HCHARS=new RegExp(/[&<>\"\']/),AMP=/&/g,LT=/</g,GT=/>/g,QUOT=/\"/g,SQUOT=/\'/g;dust.escapeHtml=function(e){return typeof e=="string"?HCHARS.test(e)?e.replace(AMP,"&amp;").replace(LT,"&lt;").replace(GT,"&gt;").replace(QUOT,"&quot;").replace(SQUOT,"&#39;"):e:e};var BS=/\\/g,FS=/\//g,CR=/\r/g,LS=/\u2028/g,PS=/\u2029/g,NL=/\n/g,LF=/\f/g,SQ=/'/g,DQ=/"/g,TB=/\t/g;dust.escapeJs=function(e){return typeof e=="string"?e.replace(BS,"\\\\").replace(FS,"\\/").replace(DQ,'\\"').replace(SQ,"\\'").replace(CR,"\\r").replace(LS,"\\u2028").replace(PS,"\\u2029").replace(NL,"\\n").replace(LF,"\\f").replace(TB,"\\t"):e}})(dust),typeof exports!="undefined"&&(typeof process!="undefined"&&require("./server")(dust),module.exports=dust);
//Dust-helpers - Additional functionality for dustjs-linkedin package v1.1.1
(function(dust){function isSelect(e){var t=e.current();return typeof t==="object"&&t.isSelect===true}function jsonFilter(e,t){if(typeof t==="function"){return t.toString()}return t}function filter(e,t,n,r,i){r=r||{};var s=n.block,o,u,a=r.filterOpType||"";if(typeof r.key!=="undefined"){o=dust.helpers.tap(r.key,e,t)}else if(isSelect(t)){o=t.current().selectKey;if(t.current().isResolved){i=function(){return false}}}else{_console.log("No key specified for filter in:"+a+" helper ");return e}u=dust.helpers.tap(r.value,e,t);if(i(coerce(u,r.type,t),coerce(o,r.type,t))){if(isSelect(t)){t.current().isResolved=true}if(s){return e.render(s,t)}else{_console.log("Missing body block in the "+a+" helper ");return e}}else if(n["else"]){return e.render(n["else"],t)}return e}function coerce(e,t,n){if(e){switch(t||typeof e){case"number":return+e;case"string":return String(e);case"boolean":{e=e==="false"?false:e;return Boolean(e)};case"date":return new Date(e);case"context":return n.get(e)}}return e}var _console=typeof console!=="undefined"?console:{log:function(){}};var helpers={tap:function(e,t,n){var r=e;if(typeof e==="function"){if(e.isFunction===true){r=e()}else{r="";t.tap(function(e){r+=e;return""}).render(e,n).untap();if(r===""){r=false}}}return r},sep:function(e,t,n){var r=n.block;if(t.stack.index===t.stack.of-1){return e}if(r){return n.block(e,t)}else{return e}},idx:function(e,t,n){var r=n.block;if(r){return n.block(e,t.push(t.stack.index))}else{return e}},contextDump:function(e,t,n,r){var i=r||{},s=i.to||"output",o=i.key||"current",u;s=dust.helpers.tap(s,e,t),o=dust.helpers.tap(o,e,t);if(o==="full"){u=JSON.stringify(t.stack,jsonFilter,2)}else{u=JSON.stringify(t.stack.head,jsonFilter,2)}if(s==="console"){_console.log(u);return e}else{return e.write(u)}},"if":function(chunk,context,bodies,params){var body=bodies.block,skip=bodies["else"];if(params&&params.cond){var cond=params.cond;cond=dust.helpers.tap(cond,chunk,context);if(eval(cond)){if(body){return chunk.render(bodies.block,context)}else{_console.log("Missing body block in the if helper!");return chunk}}if(skip){return chunk.render(bodies["else"],context)}}else{_console.log("No condition given in the if helper!")}return chunk},math:function(e,t,n,r){if(r&&typeof r.key!=="undefined"&&r.method){var i=r.key,s=r.method,o=r.operand,u=r.round,a=null,f=function(){_console.log("operand is required for this math method");return null};i=dust.helpers.tap(i,e,t);o=dust.helpers.tap(o,e,t);switch(s){case"mod":if(o===0||o===-0){_console.log("operand for divide operation is 0/-0: expect Nan!")}a=parseFloat(i)%parseFloat(o);break;case"add":a=parseFloat(i)+parseFloat(o);break;case"subtract":a=parseFloat(i)-parseFloat(o);break;case"multiply":a=parseFloat(i)*parseFloat(o);break;case"divide":if(o===0||o===-0){_console.log("operand for divide operation is 0/-0: expect Nan/Infinity!")}a=parseFloat(i)/parseFloat(o);break;case"ceil":a=Math.ceil(parseFloat(i));break;case"floor":a=Math.floor(parseFloat(i));break;case"round":a=Math.round(parseFloat(i));break;case"abs":a=Math.abs(parseFloat(i));break;default:_console.log("method passed is not supported")}if(a!==null){if(u){a=Math.round(a)}if(n&&n.block){return e.render(n.block,t.push({isSelect:true,isResolved:false,selectKey:a}))}else{return e.write(a)}}else{return e}}else{_console.log("Key is a required parameter for math helper along with method/operand!")}return e},select:function(e,t,n,r){var i=n.block;if(r&&typeof r.key!=="undefined"){var s=dust.helpers.tap(r.key,e,t);if(i){return e.render(n.block,t.push({isSelect:true,isResolved:false,selectKey:s}))}else{_console.log("Missing body block in the select helper ");return e}}else{_console.log("No key given in the select helper!")}return e},eq:function(e,t,n,r){if(r){r.filterOpType="eq"}return filter(e,t,n,r,function(e,t){return t===e})},ne:function(e,t,n,r){if(r){r.filterOpType="ne";return filter(e,t,n,r,function(e,t){return t!==e})}return e},lt:function(e,t,n,r){if(r){r.filterOpType="lt";return filter(e,t,n,r,function(e,t){return t<e})}},lte:function(e,t,n,r){if(r){r.filterOpType="lte";return filter(e,t,n,r,function(e,t){return t<=e})}return e},gt:function(e,t,n,r){if(r){r.filterOpType="gt";return filter(e,t,n,r,function(e,t){return t>e})}return e},gte:function(e,t,n,r){if(r){r.filterOpType="gte";return filter(e,t,n,r,function(e,t){return t>=e})}return e},"default":function(e,t,n,r){if(r){r.filterOpType="default"}return filter(e,t,n,r,function(e,t){return true})},size:function(e,t,n,r){var i,s=0,o,u;r=r||{};i=r.key;if(!i||i===true){s=0}else if(dust.isArray(i)){s=i.length}else if(!isNaN(parseFloat(i))&&isFinite(i)){s=i}else if(typeof i==="object"){o=0;for(u in i){if(Object.hasOwnProperty.call(i,u)){o++}}s=o}else{s=(i+"").length}return e.write(s)}};dust.helpers=helpers})(typeof exports!=="undefined"?module.exports=require("dustjs-linkedin"):dust);

